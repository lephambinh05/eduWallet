{"ast":null,"code":"// Utility functions for user management\nimport usersData from '../data/users.json';\nexport const saveUserToLocalStorage = user => {\n  localStorage.setItem('currentUser', JSON.stringify(user));\n};\nexport const getCurrentUser = () => {\n  const user = localStorage.getItem('currentUser');\n  return user ? JSON.parse(user) : null;\n};\nexport const logoutUser = () => {\n  localStorage.removeItem('currentUser');\n};\nexport const registerNewUser = userData => {\n  // Generate new user ID\n  const newUserId = `u${Date.now()}`;\n  const newUser = {\n    id: newUserId,\n    username: userData.username,\n    email: userData.email,\n    password: userData.password,\n    name: userData.fullName,\n    avatar: '/avatar1.png',\n    wallet: '',\n    learnPassId: '',\n    balance: 0,\n    createdAt: new Date().toISOString().split('T')[0]\n  };\n\n  // Add to users array\n  usersData.users.push(newUser);\n\n  // Save to localStorage for demo\n  const existingUsers = JSON.parse(localStorage.getItem('users') || '[]');\n  existingUsers.push(newUser);\n  localStorage.setItem('users', JSON.stringify(existingUsers));\n  return newUser;\n};\nexport const validateUser = (username, password) => {\n  // Check in localStorage first (for newly registered users)\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\n  const localUser = localUsers.find(u => u.username === username && u.password === password);\n  if (localUser) {\n    return localUser;\n  }\n\n  // Check in original data\n  const user = usersData.users.find(u => u.username === username && u.password === password);\n  return user || null;\n};\nexport const isUsernameTaken = username => {\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\n  const localExists = localUsers.some(u => u.username === username);\n  if (localExists) return true;\n  return usersData.users.some(u => u.username === username);\n};\nexport const isEmailTaken = email => {\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\n  const localExists = localUsers.some(u => u.email === email);\n  if (localExists) return true;\n  return usersData.users.some(u => u.email === email);\n};","map":{"version":3,"names":["usersData","saveUserToLocalStorage","user","localStorage","setItem","JSON","stringify","getCurrentUser","getItem","parse","logoutUser","removeItem","registerNewUser","userData","newUserId","Date","now","newUser","id","username","email","password","name","fullName","avatar","wallet","learnPassId","balance","createdAt","toISOString","split","users","push","existingUsers","validateUser","localUsers","localUser","find","u","isUsernameTaken","localExists","some","isEmailTaken"],"sources":["C:/Users/lepha/Downloads/eduWallet/src/utils/userUtils.js"],"sourcesContent":["// Utility functions for user management\r\nimport usersData from '../data/users.json';\r\n\r\nexport const saveUserToLocalStorage = (user) => {\r\n  localStorage.setItem('currentUser', JSON.stringify(user));\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  const user = localStorage.getItem('currentUser');\r\n  return user ? JSON.parse(user) : null;\r\n};\r\n\r\nexport const logoutUser = () => {\r\n  localStorage.removeItem('currentUser');\r\n};\r\n\r\nexport const registerNewUser = (userData) => {\r\n  // Generate new user ID\r\n  const newUserId = `u${Date.now()}`;\r\n  \r\n  const newUser = {\r\n    id: newUserId,\r\n    username: userData.username,\r\n    email: userData.email,\r\n    password: userData.password,\r\n    name: userData.fullName,\r\n    avatar: '/avatar1.png',\r\n    wallet: '',\r\n    learnPassId: '',\r\n    balance: 0,\r\n    createdAt: new Date().toISOString().split('T')[0]\r\n  };\r\n\r\n  // Add to users array\r\n  usersData.users.push(newUser);\r\n  \r\n  // Save to localStorage for demo\r\n  const existingUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n  existingUsers.push(newUser);\r\n  localStorage.setItem('users', JSON.stringify(existingUsers));\r\n  \r\n  return newUser;\r\n};\r\n\r\nexport const validateUser = (username, password) => {\r\n  // Check in localStorage first (for newly registered users)\r\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n  const localUser = localUsers.find(u => u.username === username && u.password === password);\r\n  \r\n  if (localUser) {\r\n    return localUser;\r\n  }\r\n  \r\n  // Check in original data\r\n  const user = usersData.users.find(u => u.username === username && u.password === password);\r\n  return user || null;\r\n};\r\n\r\nexport const isUsernameTaken = (username) => {\r\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n  const localExists = localUsers.some(u => u.username === username);\r\n  \r\n  if (localExists) return true;\r\n  \r\n  return usersData.users.some(u => u.username === username);\r\n};\r\n\r\nexport const isEmailTaken = (email) => {\r\n  const localUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n  const localExists = localUsers.some(u => u.email === email);\r\n  \r\n  if (localExists) return true;\r\n  \r\n  return usersData.users.some(u => u.email === email);\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}